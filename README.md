# MySimpleDb
a simple database written in c


### step3: 
- [ ] B树存储结构
- [ ] 增加新的测试


为什么要用B树来存储？

|         | 数组存储                  | B树存储            |
| ------- | --------------------- | --------------- |
| 存储内容    | 只有数据                  | 元数据、关键字（key）、数据 |
| 每页行数    | 多                     | 少               |
| 插入时间复杂度 | O(1) - O(n)，取决于数组是否排序 | O(log(n))       |
| 删除时间复杂度 | O(n)                  | O(log(n))       |
| 查询时间复杂度 | O(n)                  | O(log(n))       |


遇到的的BUG：
测试时发现插入超过13个节点，就会报段错误（核心已转储）:
错误代码段：
```
for(uint32_t i = LEAF_NODE_MAX_CELLS; i>=0; i--)
{
	...
}
```
错误原因：
因为i是unsigned int，所以不可能出现小于0的情况。当i=0 时，i--, i的值会变成2的32次-1, 这个循环会无限进行下去。
报段错误是因为代码中有用i去找到节点对应的内存空间，所以显然会超出范围。